{"ast":null,"code":"var _jsxFileName = \"D:\\\\startup-board\\\\frontend\\\\src\\\\components\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  element,\n  allowedProfessions\n}) => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const location = useLocation();\n  useEffect(() => {\n    if (!user) {\n      window.alert('Please log in to access this page.');\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\",\n        state: {\n          from: location\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 14\n      }, this);\n    }\n  }, [user]);\n  if (allowedProfessions && !allowedProfessions.includes(user.profession)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 12\n    }, this);\n  }\n  return element;\n};\n_s(ProtectedRoute, \"PvGZm1V/4IEQYl1Q4oUFiktn7jo=\", false, function () {\n  return [useLocation];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","useContext","useEffect","Navigate","useLocation","AuthContext","jsxDEV","_jsxDEV","ProtectedRoute","element","allowedProfessions","_s","user","location","window","alert","to","state","from","fileName","_jsxFileName","lineNumber","columnNumber","includes","profession","_c","$RefreshReg$"],"sources":["D:/startup-board/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst ProtectedRoute = ({ element, allowedProfessions }) => {\r\n  const { user } = useContext(AuthContext);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      window.alert('Please log in to access this page.');\r\n      return <Navigate to=\"/\" state={{ from: location }} />;\r\n    }\r\n  }, [user]);\r\n\r\n  \r\n\r\n  if (allowedProfessions && !allowedProfessions.includes(user.profession)) {\r\n    return <Navigate to=\"/\" />;\r\n  }\r\n\r\n  return element;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,SAASC,WAAW,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,cAAc,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAmB,CAAC,KAAK;EAAAC,EAAA;EAC1D,MAAM;IAAEC;EAAK,CAAC,GAAGX,UAAU,CAACI,WAAW,CAAC;EACxC,MAAMQ,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,IAAI,CAACU,IAAI,EAAE;MACTE,MAAM,CAACC,KAAK,CAAC,oCAAoC,CAAC;MAClD,oBAAOR,OAAA,CAACJ,QAAQ;QAACa,EAAE,EAAC,GAAG;QAACC,KAAK,EAAE;UAAEC,IAAI,EAAEL;QAAS;MAAE;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACvD;EACF,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EAIV,IAAIF,kBAAkB,IAAI,CAACA,kBAAkB,CAACa,QAAQ,CAACX,IAAI,CAACY,UAAU,CAAC,EAAE;IACvE,oBAAOjB,OAAA,CAACJ,QAAQ;MAACa,EAAE,EAAC;IAAG;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC5B;EAEA,OAAOb,OAAO;AAChB,CAAC;AAACE,EAAA,CAlBIH,cAAc;EAAA,QAEDJ,WAAW;AAAA;AAAAqB,EAAA,GAFxBjB,cAAc;AAoBpB,eAAeA,cAAc;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}